<!--
 * ***** BEGIN LICENSE BLOCK *****
 *
 * Zimbra Collaboration Suite Web Client
 * Copyright (C) 2014, 2016 Synacor, Inc.
 *
 * The contents of this file are subject to the Common Public Attribution License Version 1.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at: https://www.zimbra.com/license
 * The License is based on the Mozilla Public License Version 1.1 but Sections 14 and 15
 * have been added to cover use of software over a computer network and provide for limited attribution
 * for the Original Developer. In addition, Exhibit A has been modified to be consistent with Exhibit B.
 *
 * Software distributed under the License is distributed on an "AS IS" basis,
 * WITHOUT WARRANTY OF ANY KIND, either express or implied.
 * See the License for the specific language governing rights and limitations under the License.
 * The Original Code is Zimbra Open Source Web Client.
 * The Initial Developer of the Original Code is Zimbra, Inc.  All rights to the Original Code were
 * transferred by Zimbra, Inc. to Synacor, Inc. on September 14, 2015.
 *
 * All portions of the code are Copyright (C) 2014, 2016 Synacor, Inc. All Rights Reserved.
 *
 * ***** END LICENSE BLOCK *****
-->
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0014)about:internet -->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Adobe RoboHelp 10" />
<title>Hierarchical Storage Management</title>
<link rel="StyleSheet" href="../default.css" type="text/css" />
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="../whmsg.js" charset="utf-8"></script>
<script type="text/javascript" language="javascript" src="../whver.js" charset="utf-8"></script>
<script type="text/javascript" language="javascript1.2" src="../whutils.js" charset="utf-8"></script>
<script type="text/javascript" language="javascript1.2" src="../whproxy.js" charset="utf-8"></script>
<script type="text/javascript" language="javascript1.2" src="../whlang.js" charset="utf-8"></script>
<script type="text/javascript" language="javascript1.2" src="../whtopic.js" charset="utf-8"></script>

</head>
<body><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.gbWhTopic)
{
	var strUrl = document.location.href;
	var bc = 0;
	var n = strUrl.toLowerCase().indexOf("bc-");
	if(n != -1)
	{
		document.location.href = strUrl.substring(0, n);
		bc = strUrl.substring(n+3);
	}

	if (window.addTocInfo)
	{
	addTocInfo("Managing Servers\nHierarchical Storage Management");
addButton("show",BTN_TEXT,"Show TOC","","","","",0,0,"","","");

	}
	if (window.writeBtnStyle)
		writeBtnStyle();

	if (window.writeIntopicBar)
		writeIntopicBar(1);

	
	
}
else
	if (window.gbIE4)
		document.location.reload();

onLoadHandler = function()
{
  if (window.setRelStartPage)
	{
	setTimeout("setRelStartPage('../administration_console_help_draft8514.htm');", 1)

    setTimeout("UpdateBreadCrumbsMarker();", 1);
	}
}

if (window.addEventListener){  
	window.addEventListener('load', onLoadHandler, false);   
} else if (window.attachEvent){  
	window.attachEvent('onload', onLoadHandler);  
}

function onSetStartPage()
{
  autoSync(1);
  sendSyncInfo();
  sendAveInfoOut();
}
//-->
//]]></script>
<script type="text/javascript" src="../ehlpdhtm.js" language="JavaScript1.2"></script>

<p><img src="../zimbra_logo.png" alt="" style="border: none;" border="0" /></p>
<hr width="95%" align="left" />

<h1>Hierarchical Storage Management for Zimbra Messages</h1>
<p>Hierarchical Storage Management (HSM) allows you to configure storage volumes for older messages. To manage your disk utilization, you can implement a global HSM policy or a different HSM policy for each mailbox server. Messages and attachments are moved from a primary volume to the current secondary volume based on the age of the message. The messages are still accessible. Users are not aware of any change and do not see any noticeable difference when opening an older message that has been moved.</p>
<h2>Setting up HSM Volume</h2>
<p>Before you can set up HSM, the current secondary volume must exist. See <a href="volume_management.htm">Volume Management</a> for an overview about adding volumes. The HSM volume type is set as <span style="font-weight: bold;">Secondary Message</span> <span>volume.</span> Messages are moved to the secondary storage volume based on the HSM policy.</p>
<p>The HSM policy is configured either from the <span style="font-weight: bold;">Global Settings&gt;HSM</span> tab or &#160;from the <span style="font-weight: bold;">Servers&gt;Volumes</span> tab. The default global HSM policy is to move messages and briefcase files more than 30 days old to the secondary volume.</p>
<p>You can also select to move tasks, appointments, contacts, and notes. &#160;In addition to selecting different items to move, you can use the search query language to add other criteria to your HSM policy. &#160;For example, you could create a search query to automatically send all messages that are marked as junk to the secondary volume. In this case you would add message:in:junk before:-x days to the existing policy string. &#160;If "-x" were -7 days, junk mail older than 7 days are automatically moved.</p>
<ul>
<li class="P-note">
<p class="note">To set up HSM as a global setting, go to the &#160;Global Settings&gt;HSM tab.</p>
</li>
</ul>
<h6>Procedure</h6>
<ol style="list-style: decimal;">
<li class="p">
<p>Go to <span style="font-weight: bold;">Configure&gt;Server</span> and select a server.</p>
</li>
<li class="p">
<p>In the gear icon click <span style="font-weight: bold;">Edit</span>.</p>
</li>
<li class="p">
<p>Go to the <span style="font-weight: bold;">Volumes</span> page and in the Manage Volume section click <span style="font-weight: bold;">Add.</span></p>
</li>
<li class="p">
<p>Enter the HSM secondary <span style="font-weight: bold;">volume name</span>, <span style="font-weight: bold;">volume root path</span> and select the <span style="font-weight: bold;">volume type</span> to be Secondary Message. To save space enable <span style="font-weight: bold;">Compress Blobs.</span> <span>The</span> default compression threshold is 4096 bytes.</p>
<ul style="list-style: url('../blue_right.jpg');">
<li class="p-note">
<p class="note">If Compress Blobs is enabled, you may need to increase the memory for your server, as this increases the server's memory requirements.</p>
</li>
</ul>
</li>
<li class="p">
<p>Click <span style="font-weight: bold;">OK</span>.</p>
</li>
<li class="p">
<p>In the <span style="font-weight: bold;">Assign Current Volumes</span> section, select this volume to be the current secondary message volume.</p>
</li>
<li class="p">
<p>Select the items to move and add the time constraint. &#160;If you want to set up additional policies, enter the search criteria in the Policy String field. &#160;</p>
</li>
<li class="p">
<p>Click <span style="font-weight: bold;">Save</span>. &#160;&#160;</p>
</li>
</ol>
<p>To initiate an HSM session, see <a href="initiating_an_hsm_session.htm">Initiating an HSM Session</a>.</p>
<p>&#160;</p>
<p>&#160;</p>
<p>-------------------------------------------------------------------------------------------------------<br />
<span style="font-size: 8pt;"><font size="1" style="font-size:8pt;">Copyright @ 2005-2014 Zimbra, Inc. All rights 
 reserved</font></span></p>
<script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);


highlightSearch();
//-->
//]]></script>
</body>
</html>
